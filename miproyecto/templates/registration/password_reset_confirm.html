<!-- templates/registration/password_reset_confirm.html -->
{% extends "base.html" %}
{% load widget_tweaks %}
{% block title %}Ingresar nueva contraseña{% endblock %}

{% block content %}

{% if validlink %}
  <section class="min-vh-100" style="background: linear-gradient(to bottom, #4E98B8, #84BAC9, #ABCFD1, #BDDAE6);">
    <div class="container pt-5">
      <div class="card mx-auto" style="min-width: 500px; max-width: 900px;">
        <div class="card-body">
          <h1>¡Establece una nueva contraseña!</h1>
          <form method="post">
            {% csrf_token %}
            
            <div class="form-group">
              <label class="form-label text-white" for="id_password1">Nueva contraseña:</label>
              {{ form.new_password1|add_class:"form-control form-control-lg" }}
              <small class="form-text text-muted">
                <ul>
                  <li>Su contrasena no puede ser igual a la anterior</li>
                  <li>Su contraseña no puede contener su informacion personal.</li>
                  <li>Su contraseña no puede ser una comun.</li>
                  <li>Su contraseña no puede ser completamente numerica.</li>
              </ul>
              </small>
            </div>

            <div class="form-group">
              <label class="form-label text-white" for="id_password2">Confirma tu contraseña:</label>
              {{ form.new_password2|add_class:"form-control form-control-lg" }}
            </div>
            
            <button type="submit" class="btn btn-primary w-100 mt-3">Guardar nueva contraseña</button>
          </form>
        </div>
      </div>
    </div>
  </section>  

{% else %}
  <section class="min-vh-100" style="background: linear-gradient(to bottom, #4E98B8, #84BAC9, #ABCFD1, #BDDAE6);">
    <div class="container pt-5">
      <div class="card mx-auto" style="min-width: 500px; max-width: 900px;">
        <div class="card-body">
          <p>El enlace de restablecimiento de contraseña no era válido, posiblemente porque ya se usó. Solicite un nuevo restablecimiento de contraseña.</p>
        </div>
      </div>
    </div>
  </section>  
{% endif %}
{% endblock %}